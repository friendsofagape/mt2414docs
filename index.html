
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>AutographaMT API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#new-user-registration" class="toc-h1 toc-link" data-title="New user registration">New user registration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#verification" class="toc-h2 toc-link" data-title="New user registration">Verification</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#recovering-passwords" class="toc-h1 toc-link" data-title="Recovering passwords">Recovering passwords</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request-temporary-password" class="toc-h2 toc-link" data-title="Recovering passwords">Request temporary password</a>
                  </li>
                  <li>
                    <a href="#reset-the-password" class="toc-h2 toc-link" data-title="Recovering passwords">Reset the password</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keys" class="toc-h1 toc-link" data-title="Keys">Keys</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#todo" class="toc-h2 toc-link" data-title="Keys">TODO</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#create-source-text" class="toc-h1 toc-link" data-title="Create Source Text">Create Source Text</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-create-source-language" class="toc-h2 toc-link" data-title="Create Source Text">1 Create Source Language</a>
                  </li>
                  <li>
                    <a href="#2-upload-source-text" class="toc-h2 toc-link" data-title="Create Source Text">2 Upload Source Text</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#source-text-information" class="toc-h1 toc-link" data-title="Source text information">Source text information</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-source-language-list" class="toc-h2 toc-link" data-title="Source text information">Get source language list</a>
                  </li>
                  <li>
                    <a href="#get-source-text-list" class="toc-h2 toc-link" data-title="Source text information">Get source text list</a>
                  </li>
                  <li>
                    <a href="#get-the-book-list" class="toc-h2 toc-link" data-title="Source text information">Get the book list</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#download-tokens" class="toc-h1 toc-link" data-title="Download Tokens">Download Tokens</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-existing-sources" class="toc-h2 toc-link" data-title="Download Tokens">List existing sources</a>
                  </li>
                  <li>
                    <a href="#languages" class="toc-h2 toc-link" data-title="Download Tokens">- Languages</a>
                  </li>
                  <li>
                    <a href="#version" class="toc-h2 toc-link" data-title="Download Tokens">- Version</a>
                  </li>
                  <li>
                    <a href="#revision" class="toc-h2 toc-link" data-title="Download Tokens">- Revision</a>
                  </li>
                  <li>
                    <a href="#download-tokens-2" class="toc-h2 toc-link" data-title="Download Tokens">Download Tokens</a>
                  </li>
                  <li>
                    <a href="#tokens-complete-set" class="toc-h2 toc-link" data-title="Download Tokens">- Tokens Complete Set</a>
                  </li>
                  <li>
                    <a href="#excluded-set" class="toc-h2 toc-link" data-title="Download Tokens">- Excluded Set</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#submit-translated-tokens" class="toc-h1 toc-link" data-title="Submit Translated Tokens">Submit Translated Tokens</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-of-target-languages" class="toc-h2 toc-link" data-title="Submit Translated Tokens">List of target languages</a>
                  </li>
                  <li>
                    <a href="#update-language-list" class="toc-h2 toc-link" data-title="Submit Translated Tokens">Update language list</a>
                  </li>
                  <li>
                    <a href="#upload-translated-tokens" class="toc-h2 toc-link" data-title="Submit Translated Tokens">Upload Translated Tokens</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#token-words" class="toc-h1 toc-link" data-title="Token Words">Token Words</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-token-words" class="toc-h2 toc-link" data-title="Token Words">Get Token Words</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#translations" class="toc-h1 toc-link" data-title="Translations">Translations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-new-translation" class="toc-h2 toc-link" data-title="Translations">Create new translation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#corrections" class="toc-h1 toc-link" data-title="Corrections">Corrections</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-corrections" class="toc-h2 toc-link" data-title="Corrections">Update corrections</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#suggestions" class="toc-h1 toc-link" data-title="Suggestions">Suggestions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-suggestions" class="toc-h2 toc-link" data-title="Suggestions">Get suggestions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href="https://autographamt.bridgeconn.com">Sign Up for a Developer Key</a></li>
            <li><a href="https://github.com/lord/slate">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the AutographaMT API Documentation! You can use our API to access AutographaMT API endpoints to accelerate Bible translations. The AutographaMT APIs are accessed through a AutographaMT client.</p>

<p>The documentation on how to use the AutographaMT client application is provided on <a href="https://autographamt.bridgeconn.com">it&#39;s website</a>. </p>
<h1 id='new-user-registration'>New user registration</h1>
<p>Currently anyone with a valid email address can register and access the resources on the AutographaMT server.</p>

<blockquote>
<p>To register a new user account:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># If you have curl installed, you can directly access the APIs listed here. Alternativeley, you can use the Postman plugin (Firefox and Chrome).</span>

curl -X POST 
  -d <span class="s2">"username=&lt;email_id&gt;"</span> 
  -d <span class="s2">"password=&lt;password&gt;"</span> 
  https://api.autographamt.bridgeconn.com/v1/registration

<span class="gp">&gt; </span>Server will send a verification email to the email_id provided by the user, <span class="k">if </span>the given email_id is not used <span class="k">for </span>registering any other user accounts.

<span class="gp">&gt; </span>It will also <span class="k">return </span>a message <span class="sb">`</span><span class="o">{</span><span class="s2">"success"</span>:true, <span class="s2">"message"</span>:<span class="s2">"Verification Email Sent"</span><span class="o">}</span><span class="sb">`</span> <span class="k">if </span>it accepts the credentials provided by the user. If the email_id is already used <span class="k">for </span>registering a user account, it will <span class="k">return </span>a message, <span class="sb">`</span><span class="o">{</span><span class="s2">"success"</span>:false, <span class="s2">"message"</span>:<span class="s2">"Email Already Exists"</span><span class="o">}</span><span class="sb">`</span>
</code></pre><h2 id='verification'>Verification</h2>
<p>When the user clicks on the verification link sent to the email id, the verification request is submitted to the /verification endpoint.</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.autographamt.bridgeconn.com/v1/verification/&lt;verification_code&gt;"</span>
  -X GET

<span class="gp">&gt; </span>After the succesfful verification, the user will be directed to the homepage of the client app.
</code></pre><h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.autographamt.bridgeconn.com/v1/auth"</span>
  -X POST 
  -d <span class="s2">"username=&lt;email_id&gt;"</span> 
  -d <span class="s2">"password=&lt;password&gt;"</span>

<span class="gp">&gt; </span>This will <span class="k">return </span>the <span class="sb">`</span>secretkey<span class="sb">`</span> to access the API server.
</code></pre>
<p>AutographaMT uses API keys to allow access to the APIs. You can register a new AutographaMT API key at our <a href="https://augtographamt.bridgeconn.com">site</a>. To authorize a user on the API side, we use JWT tokens. These have to be added to all requests using the following header.</p>

<p><code>Authorization: Bearer &lt;jwt&gt;</code></p>

<aside class="notice">
You must replace <code>secretkey</code> with your personal API key. JSON Web Tokens (JWT) are an open, industry standard RFC 7519 method for representing claims securely between two parties.
</aside>
<h1 id='recovering-passwords'>Recovering passwords</h1>
<p>Recovering of the forgotten passwords is done in two stages.</p>
<h2 id='request-temporary-password'>Request temporary password</h2>
<p>User requests to reset the password by providing the email id to reset the password along with a link to the /forgotpassword endpoint.</p>

<p>If the email Id submitted is on the server and is verified the system will generate a temporary password and sends it to the user&#39;s email id.</p>

<p>It will also return <code>{&quot;success&quot;:true, &quot;message&quot;:&quot;Link to reset password has been sent to the registered mail ID&quot;}</code></p>

<p>If no such email registered on the server, </p>

<p>it will return <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;Email has not yet been registered&quot;}</code></p>

<blockquote>
<p>To send the request for a temporary password</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.autographamt.bridgeconn.com/v1/resetpassword"</span>
  -X POST 
  -d <span class="s2">"email=&lt;email&gt;"</span> 

<span class="gp">&gt; </span>Server will send a temporary password with the link to the /forgotpasword
</code></pre><h2 id='reset-the-password'>Reset the password</h2>
<p>User can then submit a new password, along with the temporary password sent by the system.</p>

<p>If the temporary password matches the password sent by the server, the hash + salt of the new password is stored as the new password. The server will return a message <code>{&quot;success&quot;:true, &quot;message&quot;:&quot;Password has been reset. Login with the new password.&quot;}</code></p>

<p>If the temporary password doesn&#39;t match with the server&#39;s temporary password, it will return an error message <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;Invalid temporary password.&quot;}</code></p>

<blockquote>
<p>To send the request for a temporary password</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.autographamt.bridgeconn.com/v1/forgotpassword"</span>
  -X POST 
  -d <span class="s2">"temp_password=&lt;temp_password&gt;"</span> 
  -d <span class="s2">"password=&lt;new_password&gt;"</span>
</code></pre><h1 id='keys'>Keys</h1>
<p>The /v1/keys will permit a client application to interact with the system without having to call the /auth all the time. </p>
<h3 id='todo'>TODO</h3><h1 id='create-source-text'>Create Source Text</h1>
<p>To create a new source language and upload text in the source langugage to the server.</p>
<h2 id='1-create-source-language'>1 Create Source Language</h2>
<p>An administrator can select the name of the language and supply the version name to create a source langauge.</p>
<pre class="highlight shell tab-shell"><code>curl
  -X
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span>
  -d <span class="s1">'{"language":"&lt;language&gt;", "&lt;version&gt;":"&lt;version&gt;"}'</span> 
  <span class="s2">"https://api.mt2414.in/v1/createsources"</span>

<span class="gp">&gt; </span>You can call the /v1/sourceid to get the id of a <span class="nb">source </span>language

curl 
  -X POST 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s1">'{"language":"&lt;language&gt;", "&lt;version&gt;":"&lt;version&gt;"}'</span> 
  <span class="s2">"https://api.mt2414.in/v1/sourceid"</span>

</code></pre><h2 id='2-upload-source-text'>2 Upload Source Text</h2>
<p>Once a language and version is assigned to be used as a source, user can upload the source text for that language. You can call the /sources api to upload the content.</p>
<pre class="highlight shell tab-shell"><code>curl 
  -X POST 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s2">"source_id=&lt;source_id&gt;"</span> 
  -f <span class="s2">"content=&lt;content&gt;"</span> 
  <span class="s2">"https://api.mt2414.in/v1/sources"</span>

</code></pre>
<aside class="notice">
The content submitted must be in valid usfm format. At a minimum the file should contain \id followed by a valid 3 letter Book id. Each book must be a separate file.
</aside>
<h1 id='source-text-information'>Source text information</h1>
<p>The following APIs can be called to access the information of source langauges, version and texts available on the server.</p>
<h2 id='get-source-language-list'>Get source language list</h2>
<p>To get the list of available source langauges on the server, a user can call the api <code>/language</code>. In response, the server will return the list of language ISO codes available on the server.</p>

<p>If the server couldn&#39;t find any languages, the response will be <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;No Languages&quot;}</code>.</p>
<pre class="highlight shell tab-shell"><code>
<span class="gp">&gt; </span>CURL
curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span>
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/language"</span>

<span class="gp">&gt; </span>Example
curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/language"</span>

<span class="gp">&gt; </span>Repsonse <span class="o">(</span>list of 3 letter ISO codes of the lanagues available<span class="o">)</span>
<span class="o">[</span><span class="s2">"guj"</span>, <span class="s2">"tel"</span>, <span class="s2">"khn"</span>, <span class="s2">"ori"</span>, <span class="s2">"mar"</span>, <span class="s2">"hin"</span><span class="o">]</span>
</code></pre><h2 id='get-source-text-list'>Get source text list</h2>
<p>To get the list of available source languages <em>with the versions name</em>, a user can call the api <code>/get_languages</code>. In response, the server will return the list of language iso codes and the corresponding version names paired as a list.</p>

<p>If the server couldn&#39;t find any text matching the language-version name, the response will be <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;No Languages&quot;}</code>.</p>
<pre class="highlight shell tab-shell"><code>
<span class="gp">&gt; </span>CURL
curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span>
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/get_languages"</span>

<span class="gp">&gt; </span>Examples
curl 
  -X POST 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  <span class="s2">"https://api.autographamt.brideconn.com/v1/get_languages"</span>

<span class="gp">&gt; </span>Response <span class="o">(</span>3 letter ISO code of the language + version name<span class="o">)</span>
<span class="o">[[</span><span class="s2">"ori"</span>, <span class="s2">"GL-ORYA-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"mar"</span>, <span class="s2">"GL-MAR-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"guj"</span>, <span class="s2">"GL-GUJ-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"ori"</span>, <span class="s2">"OBS"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"tel"</span>, <span class="s2">"GL-TEL-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"hin"</span>, <span class="s2">"GL-HIN-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"khn"</span>, <span class="s2">"OA-KHN-NT"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"hin"</span>, <span class="s2">"GL-HIN-PSA-PRO"</span><span class="o">]]</span>
</code></pre><h2 id='get-the-book-list'>Get the book list</h2>
<p>To get the list of books and it&#39;s revision number of the a given version of a source language, a user can call the <code>/get_books</code> api. In response, the server will return a list of all the books as 3 letter book id and revision number paired as a list.</p>

<p>If the server couldn&#39;t find the given combination it will send <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;No books available&quot;}</code> as the response.</p>
<pre class="highlight shell tab-shell"><code><span class="gp">&gt; </span>CURL

curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span>
  -d <span class="s1">'{"language":"&lt;language_id&gt;", "version":"&lt;version_name&gt;"}'</span>
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/get_books"</span>

<span class="gp">&gt; </span>Example
curl 
  -X POST 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  -d <span class="s1">'{"language":"ori", "version":"GL-ORYA-NT"}'</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/get_books"</span>

<span class="gp">&gt; </span>Response <span class="o">(</span>3 letter ISO code + revision number<span class="o">)</span>
<span class="o">[[</span><span class="s2">"MRK"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"GAL"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"MAT"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"ROM"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"JHN"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"LUK"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"ACT"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"EPH"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"PHP"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"COL"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"TIT"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"PHM"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"HEB"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"JAS"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"REV"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"JUD"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"1CO"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"2CO"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"1TH"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"2TH"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"1TI"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"2TI"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"1PE"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"2PE"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"1JN"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"2JN"</span>, <span class="s2">"1"</span><span class="o">]</span>, <span class="o">[</span><span class="s2">"3JN"</span>, <span class="s2">"1"</span><span class="o">]]</span>
</code></pre><h1 id='download-tokens'>Download Tokens</h1>
<p>As soon as a source text is submitted to the server, it will generate the tokens save it in a database. </p>

<p>In order to download the tokens, user have to specify the source from where (s)he want to download the tokens for. User must specify the language, version and the revision of the source along with the book(s) (s)he wanted to download the tokens for.</p>
<h2 id='list-existing-sources'>List existing sources</h2>
<p>The following APIs can be called to find the existing source text information.</p>
<h2 id='languages'>- Languages</h2>
<p>Please see the <a href="./#get-source-language-list">section above</a></p>
<h2 id='version'>- Version</h2>
<p>A language can have more than one version of the Bible, and each version can be uploaded to the server using a separate unique version name. To list all the versions available for a specific language, call the <code>/versions</code> api.</p>

<p>Response in case no versions available for the given langauge, <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;No version&quot;}</code>.</p>
<pre class="highlight shell tab-shell"><code>
<span class="gp">&gt; </span>CURL
curl 
  -X 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s1">'{"language":"&lt;language&gt;"}'</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/version"</span>

<span class="gp">&gt; </span>Example
curl 
  -X 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  -d <span class="s1">'{"language":"ori"}'</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/version"</span>

<span class="gp">&gt; </span>Response <span class="o">(</span>List of versions<span class="o">)</span>
<span class="o">[</span><span class="s2">"GL-ORYA-NT"</span>, <span class="s2">"OBS"</span><span class="o">]</span>
</code></pre><h2 id='revision'>- Revision</h2>
<p>In many cases the source text itself is dynamic in nature. It will undergo several changes in course of time. In order to keep track of this, AutographaMT uses revision numbers. Every time a text is submitted it is automatically assigned a revision number. If anybody submit an updated version of an existing book, a new revision is created and the files is saved as a new revision. This will enable the engine to generate a translation even after the text gets revised between the token download and the tokens submission.</p>

<p>The <code>/revision</code> api takes the language name and the version number as input and will send a list of revisions available as a response.</p>

<p>In case no records matches the language name and the version number submitted the user, a response will be sent to the user/client with the message <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;No books available&quot;}</code>.</p>
<pre class="highlight shell tab-shell"><code>
<span class="gp">&gt; </span>CURL
curl 
  -X 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s1">'{"language":"&lt;language&gt;", "version":"&lt;version&gt;"}'</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/revision"</span>

<span class="gp">&gt; </span>Example
curl 
  -X 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  -d <span class="s1">'{"language":"ori", "version":"ULB"}'</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/revision"</span>

<span class="gp">&gt; </span>Response <span class="o">(</span>List of versions<span class="o">)</span>
<span class="o">[</span><span class="s2">"1"</span><span class="o">]</span>
</code></pre><h2 id='download-tokens-2'>Download Tokens</h2>
<p>There are two different ways a user can download tokens. A user can download the entire set of tokens for a specific set book(s) or the tokens for a set of book(s) excluding the tokens already included in a previous set.</p>
<h2 id='tokens-complete-set'>- Tokens Complete Set</h2>
<p>If the complete set of tokens are to be downloaded, a user can send the list of book(s) along with the language name, version and revision to the  <code>/bookwiseautotokens</code>. Server in response will send the complete set of tokens for the books specified, if they are available on the server. In case if the books are not present, server will respond with one of the following messages.</p>

<ul>
<li><p>If Source is not found <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;Source is not available. Upload source.&quot;}</code></p></li>
<li><p>If no books are selected <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;Select any books from include books&quot;}</code></p></li>
<li><p>If no books are selected to be include list, but some books are selected in the exclude list <code>{&quot;success&quot;:false, &quot;message&quot;:&quot;Select any books from include books&quot;}</code>.</p></li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="gp">&gt; </span>CURL

curl 
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s1">'{"sourcelang":"sourcelang", "&lt;version&gt;":"&lt;version&gt;", "revision":"revision", "books":["book1", "book2"...], "nbooks":["book1", "book2"...], "targetlang":"&lt;targetlang&gt;"}'</span> <span class="s2">"https://api.mt2414.in/v1/getbookwiseautotokens"</span>

<span class="gp">&gt; </span>Example
curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span>
  -d <span class="s1">'{"sourcelang":"ori", "version":"GL-ORYA-NT", "revision":"1", "books":["PHM", "2JN"], "nbooks": ["3JN"], "targetlang":"hin"}'</span>
  <span class="s2">"https://api.mt2414.in/v1/getbookwiseautotokens"</span>

<span class="gp">&gt; </span>Response <span class="o">(</span>Tokens of the selected books as an Excel Sheet<span class="o">)</span>

</code></pre><h2 id='excluded-set'>- Excluded Set</h2>
<p>The exclude books option can come handy when a user wanted to split the translation job between multiple tranlsators. The tokens from the books listed in the <code>nbooks</code> list will be removed after creating the tokens for the <code>books</code> selected. In this way a team can avoid the duplication of the work.</p>
<pre class="highlight shell tab-shell"><code><span class="gp">&gt; </span>CURL

curl 
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  -d <span class="s1">'{"sourcelang":"sourcelang", "&lt;version&gt;":"&lt;version&gt;", "revision":"revision", "books":["book1", "book2"...], "nbooks":["book1", "book2"...], "targetlang":"&lt;targetlang&gt;"}'</span> <span class="s2">"https://api.autographamt.bridgeconn.com/v1/getbookwiseautotokens"</span>

<span class="gp">&gt; </span>Example
curl
  -X POST
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span>
  -d <span class="s1">'{"sourcelang":"ori", "version":"GL-ORYA-NT", "revision":"1", "books":["PHM", "2JN"], "nbooks": ["3JN"], "targetlang":"hin"}'</span>
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/getbookwiseautotokens"</span>

<span class="gp">&gt; </span>Response 
Tokens of the selected books as an Excel Sheet
</code></pre>
<aside class="notice">
Supply the books to be included in the token generation as a value of "books" and the books to be excluded in the "nbooks".
</aside>

<aside class="warning">
If you use the exclude tokens, the translation can't be complete until the user uploads the first sets of tokens generated.
</aside>
<h1 id='submit-translated-tokens'>Submit Translated Tokens</h1>
<p>Once the translation of the tokens is completed, user can upload it back to the server. The translated tokens must be in either <code>xls</code> or in <code>xlsx</code> (preferred) format.</p>

<p>In order to upload the translated tokens, user must specify the <a href="./#get-source-language-list">source language</a>, <a href="./#version">version</a> and <a href="./#revision">revision</a> number along with the target language. </p>
<h2 id='list-of-target-languages'>List of target languages</h2>
<p>To get the list of currently available target languages, use <code>/languagelist</code> api. </p>
<pre class="highlight shell tab-shell"><code><span class="gp">&gt; </span>CURL
curl 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/languagelist"</span>

<span class="gp">&gt; </span>Example
curl 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/languagelist"</span>

<span class="gp">&gt; </span>Response 
<span class="s1">'{"English": "en", "Malayalam": "ml", "Hindi": "hi", ...}'</span>
</code></pre><h2 id='update-language-list'>Update language list</h2>
<p>AutographaMT lists all the Indian languages listed in <a href="&quot;http://td.unfoldingword.org/exports/langnames.json&quot;"><code>translationDatabase</code></a> which is maintained by the unfoldingword.org team. To update the list on the AutographaMT server, user can call the <code>/updatelanguagelist</code> api.</p>
<pre class="highlight shell tab-shell"><code><span class="gp">&gt; </span>CURL
curl 
  -H <span class="s2">"Authorization:bearer &lt;access token&gt;"</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/updatelanguagelist"</span>

<span class="gp">&gt; </span>Example
curl 
  -H <span class="s2">"Authorization:bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  <span class="s2">"https://api.autographamt.bridgeconn.com/v1/updatelanguagelist"</span>

<span class="gp">&gt; </span>Response 
<span class="o">{</span><span class="s2">"success"</span>:true, <span class="s2">"message"</span>:<span class="s2">"Language List updated."</span><span class="o">}</span>
</code></pre><h2 id='upload-translated-tokens'>Upload Translated Tokens</h2>
<p>To submit the translated tokens back to the server, <code>/uploadtokentranslation</code> api can be called. This API accepts the translated tokens as a spreadsheet file along with other metadata such as the source language, version, revision and the target language.</p>
<pre class="highlight shell tab-shell"><code>
<span class="gp">&gt; </span>CURL
curl 
  -X POST 
  -H <span class="s2">"Authorization: bearer &lt;your access token&gt;"</span> 
  -F <span class="s2">"language=&lt;3_letter_iso_language_code&gt;"</span> 
  -F <span class="s2">"version=&lt;version_name&gt;"</span> 
  -F <span class="s2">"revision=&lt;rev_number"</span> 
  -F <span class="s2">"targetlang=&lt;3_letter_iso_language_code&gt;"</span> 
  -F <span class="s2">"tokenwords=@path/to/file"</span> 
  <span class="s2">"https://api.mt2414.in/v1/uploadtokentranslation"</span>

&gt;Example
curl 
  -X POST 
  -H <span class="s2">"Authorization: bearer &lt;YOUR ACCESS TOKEN&gt;"</span> 
  -F <span class="s2">"language=guj"</span> 
  -F <span class="s2">"version=GL-GUJ-NT"</span> 
  -F <span class="s2">"revision=1"</span> 
  -F <span class="s2">"targetlang=ori"</span> 
  -F <span class="s2">"tokenwords=@./gj.xlsx"</span> 
  <span class="s2">"https://api.mt2414.in/v1/uploadtokentranslation"</span>

<span class="gp">&gt; </span>Response
The server will respond with the message <span class="sb">`</span>server message<span class="sb">`</span> <span class="k">if </span>the file is uploaded sucessfully
</code></pre>
<table><thead>
<tr>
<th>Condition</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>The source doesn&#39;t exist on the server</td>
<td>&#39;{&quot;success&quot;:false, &quot;message&quot;:&quot;Unable to locate the language, version and revision number specified&quot;}&#39;</td>
</tr>
<tr>
<td>Invalid file format</td>
<td>{&quot;success&quot;:false, &quot;message&quot;:&quot;Invalid file format. Upload correct format of xls/xlsx files.&quot;}</td>
</tr>
<tr>
<td>No new translated tokens</td>
<td>{&quot;success&quot;:false, &quot;message&quot;:&quot;No Changes. Existing token is already up-to-date.&quot;}</td>
</tr>
<tr>
<td>If tokens are not translated</td>
<td>{&quot;success&quot;:false, &quot;message&quot;:&quot;Tokens have no translation&quot;}</td>
</tr>
<tr>
<td>If the file upload completed succesfully</td>
<td>{&quot;success&quot;:true, &quot;message&quot;:&quot;Token translation have been uploaded successfully&quot;}</td>
</tr>
</tbody></table>

<aside class="warning">
The `curl` command for this api is not tested using curl. The file submission was tested using postman.
</aside>
<h1 id='token-words'>Token Words</h1><h2 id='get-token-words'>Get Token Words</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.mt2414.in/v1/tokenwords/&lt;source-lang&gt;"</span>
  -H <span class="s2">"Authorization: secretkey"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tokenwords"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"msgid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"word1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"msgstr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"msgid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"word2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"msgstr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all token words.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.mt2414.in/v1/tokenwords/&lt;source-lang&gt;</code></p>
<h1 id='translations'>Translations</h1><h2 id='create-new-translation'>Create new translation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.mt2414.in/v1/translations"</span>
  -X POST
  -H <span class="s2">"Authorization: secretkey"</span>
  -d <span class="s1">'{
  "tokenwords" : [
    {
      "msgid": "word1",
      "msgstr": "translation1"
    },
    {
      "msgid": "word2",
      "msgstr": "translation2"
    }]
}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"GEN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Genesis"</span><span class="p">,</span><span class="w">
</span><span class="s2">"EXO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Exodus"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.mt2414.in/v1/translations</code></p>
<h1 id='corrections'>Corrections</h1><h2 id='update-corrections'>Update corrections</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.mt2414.in/v1/corrections"</span>
  -X POST
  -H <span class="s2">"Authorization: secretkey"</span>
  -d <span class="s1">'{
    "book.chapter.verse" : "New verse text",
    "book.chapter.verse" : "New verse text",
    "book.chapter.verse" : "New verse text",
}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"GEN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Genesis"</span><span class="p">,</span><span class="w">
</span><span class="s2">"EXO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Exodus"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.mt2414.in/v1/corrections</code></p>
<h1 id='suggestions'>Suggestions</h1><h2 id='get-suggestions'>Get suggestions</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.mt2414.in/v1/suggestions/&lt;book-name&gt;"</span>
  -H <span class="s2">"Authorization: secretkey"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"GEN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Genesis"</span><span class="p">,</span><span class="w">
</span><span class="s2">"EXO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USFM text for Exodus"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://api.mt2414.in/v1/suggestions/&lt;book-name&gt;</code></p>
<h1 id='errors'>Errors</h1>
<p>The MT2414 API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request sucks.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
